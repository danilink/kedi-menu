<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Menú jueves · La Casona (TEST)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome (iconos) -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  />

  <!-- AOS (Animate On Scroll) -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css"
  />

  <!-- IMPORTANTE: rutas relativas hacia arriba -->
  <link rel="stylesheet" href="../css/styles.css">

  <!-- Papa Parse para leer CSV de Google Sheets -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="../js/config.js"></script>
  <script defer src="../js/app.js"></script>
</head>
<body>
  <div class="bg-layer"></div>
  <div class="bg-layer bg-layer-2"></div>

  <div class="app">
    <header class="top-bar glass">
      <div class="brand-row">
        <!-- Ojo: logo relativo a test/ → ../assets -->
        <img src="../assets/logo.png" alt="La Casona" class="brand-logo" />
        <div class="brand-stack">
          <span class="brand-main">La Casona</span>
          <span class="brand-tagline">
            <i class="fa-solid fa-bowl-food"></i>
            Comida casera para llevar · TEST Jueves
          </span>
        </div>
      </div>
      <div class="top-right">
        <nav class="day-tabs">
          <button class="day-tab" data-index="0">
            <span class="day-tab-label">Lun</span>
          </button>
          <button class="day-tab" data-index="1">
            <span class="day-tab-label">Mar</span>
          </button>
          <button class="day-tab" data-index="2">
            <span class="day-tab-label">Mié</span>
          </button>
          <button class="day-tab" data-index="3">
            <span class="day-tab-label">Jue</span>
          </button>
          <button class="day-tab" data-index="4">
            <span class="day-tab-label">Vie</span>
          </button>
        </nav>
      </div>
    </header>

    <main class="page">
      <div id="menu-container">
        <div class="menu-card glass" data-aos="fade-up">
          <div class="loading">
            <i class="fa-solid fa-spinner fa-spin"></i>
            <span>Cargando menú desde Google Sheets…</span>
          </div>
        </div>
      </div>
    </main>

    <footer class="pagination">
      <span class="page-indicator" id="page-indicator"></span>
    </footer>
  </div>

  <!-- AOS JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>

  <!-- Script de TEST: forzar que se muestre jueves (índice 3) -->
  <script>
    // 0 = lunes, 1 = martes, 2 = miércoles, 3 = jueves, 4 = viernes
    const TEST_DAY_INDEX = 1;

    document.addEventListener("DOMContentLoaded", () => {
      const interval = setInterval(() => {
        try {
          // MENUS y renderMenu están definidos en app.js
          if (typeof renderMenu === "function" &&
              Array.isArray(MENUS) &&
              MENUS.length > TEST_DAY_INDEX) {

            renderMenu(TEST_DAY_INDEX);
            clearInterval(interval);
          }
        } catch (e) {
          // si todavía no están definidas, seguimos esperando
        }
      }, 150);
    });
  </script>
</body>
</html>
